### 1 - Remove Side car injection label from namespace
```sh
kubectl label namespace default istio-injection-
```
### 2 - Create Two Pods without sidecar proxy
```sh
kubectl run nginx-01 --image=nginx

kubectl run curl-01 --image=alpine/curl -- sleep 36000
```
### 3- Enable Side car injection for namespace
```sh
kubectl label namespace default istio-injection=enabled
```
### 4 - Create Two pods with side car proxy
```sh
kubectl run nginx-02 --image=nginx

kubectl run curl-02 --image=alpine/curl -- sleep 36000
```
### 5 - Create necessary serivce for Nginx Pods
```sh
kubectl label pods nginx-01 app=nginx-01

kubectl label pods nginx-02 app=nginx-02

kubectl expose pod nginx-01 --port=80 --name=nginx-01-service

kubectl expose pod nginx-02 --port=80 --name=nginx-02-service
```

### 6 - Enable Peer Authentication
```sh
nano peer-auth.yaml
```
```sh
apiVersion: security.istio.io/v1
kind: PeerAuthentication
metadata:
  name: default
spec:
  mtls:
    mode: STRICT
```
```sh
kubectl apply -f peer-auth.yaml
```
```sh
kubectl get peerauthentication
```
### 7 - Testing
```sh
kubectl exec -it curl-01 -- sh 

curl http://nginx-01-service.default.svc.cluster.local

curl http://nginx-02-service.default.svc.cluster.local
```
```sh
kubectl exec -it curl-02 -- sh 

curl http://nginx-01-service.default.svc.cluster.local

curl http://nginx-02-service.default.svc.cluster.local
```

### 8 - Check Certificate Related Information
```sh
istioctl proxy-config secret curl-01

istioctl proxy-config secret curl-02

istioctl proxy-config secret nginx-02
```